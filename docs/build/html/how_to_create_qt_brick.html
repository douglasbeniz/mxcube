<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to create GUI brick in Qt version &mdash; MxCuBE 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MxCuBE 2.0 documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MxCuBE 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-create-gui-brick-in-qt-version">
<h1>How to create GUI brick in Qt version<a class="headerlink" href="#how-to-create-gui-brick-in-qt-version" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>MXCuBE is based on building bricks that are linked together with GUI designer.</li>
<li>Before creating and submiting a new brick to the git repository, please inspect <a class="reference external" href="https://github.com/mxcube/BlissFramework/tree/master/Bricks">BlissFramework/Bricks</a>  and <a class="reference external" href="https://github.com/mxcube/mxcube/tree/master/Bricks">mxcube/Bricks</a> directories if there is a brick that might fit to your needs.</li>
<li><a class="reference external" href="https://github.com/mxcube/BlissFramework/tree/master/Bricks">BlissFramework/Bricks</a> stores basic atomic bricks and <a class="reference external" href="https://github.com/mxcube/mxcube/tree/master/Bricks">mxcube/Bricks</a> are more widget based complex bricks.</li>
<li>The main idea is to keep a commot graphical layout among many software users and try to keep optimal set of bricks.</li>
<li>If it is necessary to create a new brick then use starting template and add necessary graphical elements:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span>
<span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtCore</span>

<span class="kn">from</span> <span class="nn">BlissFramework.Qt4_BaseComponents</span> <span class="kn">import</span> <span class="n">BlissWidget</span>

<span class="n">__category__</span> <span class="o">=</span> <span class="s2">&quot;General&quot;</span>

<span class="k">class</span> <span class="nc">Qt4_ExampleBrick</span><span class="p">(</span><span class="n">BlissWidget</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">BlissWidget</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Hardware objects ----------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="c1"># Internal variables --------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_internal_variable</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="c1"># Properties ----------------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s1">&#39;mnemonic&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s1">&#39;booleanProperty&#39;</span><span class="p">,</span> <span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s1">&#39;stringProperty&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;initString&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s1">&#39;integerPropery&#39;</span><span class="p">,</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s1">&#39;comboProperty&#39;</span><span class="p">,</span> <span class="s1">&#39;combo&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;combo1&quot;</span><span class="p">,</span> <span class="s2">&quot;combo2&quot;</span><span class="p">,</span> <span class="s2">&quot;combo3&quot;</span><span class="p">),</span> <span class="s2">&quot;combo1&quot;</span><span class="p">)</span>

        <span class="c1"># Signals ------------------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defineSignal</span><span class="p">(</span><span class="s2">&quot;test_brick_signal&quot;</span><span class="p">,</span> <span class="p">())</span>

        <span class="c1"># Slots ---------------------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defineSlot</span><span class="p">(</span><span class="s2">&quot;test_brick_slot&quot;</span><span class="p">,</span> <span class="p">())</span>

        <span class="c1"># Graphic elements ----------------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_ledit</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="s2">&quot;Test linedit&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_button</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Test button&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_combo</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Layout --------------------------------------------------------------</span>
        <span class="n">_main_vlayout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">_main_vlayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_ledit</span><span class="p">)</span>
        <span class="n">_main_vlayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_button</span><span class="p">)</span>
        <span class="n">_main_vlayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_combo</span><span class="p">)</span>
        <span class="n">_main_vlayout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">_main_vlayout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="c1"># SizePolicies --------------------------------------------------------</span>

        <span class="c1"># Qt signal/slot connections ------------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_ledit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_ledit_text_changed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_button</span><span class="o">.</span><span class="n">pressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_button_pressed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test_combo</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_combo_activated</span><span class="p">)</span>

        <span class="c1"># Other ---------------------------------------------------------------</span>
</pre></div>
</div>
<div class="section" id="pogramming-guidlines">
<h2>Pogramming guidlines<a class="headerlink" href="#pogramming-guidlines" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Follow <a class="reference internal" href="qt_framework_overview.html"><em>Best practices</em></a> when programming in Qt.</li>
<li><code class="docutils literal"><span class="pre">Hardware</span> <span class="pre">objects</span></code> defines used hardware objects. Use syntax <code class="docutils literal"><span class="pre">self.***_hwobj</span></code>.</li>
<li><code class="docutils literal"><span class="pre">Internal</span> <span class="pre">variables</span></code> defines internal variables (booleans, strings, integers, lists etc). Use reasonable variable names (for example: self.energy_limits_list clearly defines that variable is a list that contains energy limits) and assign None or a default value.</li>
<li>In <code class="docutils literal"><span class="pre">Properties</span></code> section properties of the brick are defined. With GUI designer these properties are defined. They are stored in the gui file and preserved when MXCuBE is closed. Method <code class="docutils literal"><span class="pre">propertyChanged</span></code> is executed at the startup and can be used to read these properties.</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">propertyChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="n">old_values</span><span class="p">,</span> <span class="n">new_value</span><span class="p">):</span>

     <span class="k">if</span> <span class="n">property_name</span> <span class="o">==</span> <span class="s2">&quot;mnemonic&quot;</span><span class="p">:</span>
         <span class="c1"># property mnemonic is reserved for hardware objects</span>
         <span class="c1"># if there is a necessaty for more than one hardware object then</span>
         <span class="c1"># name the property based on hardware object (for example &quot;energy&quot;)</span>

         <span class="c1"># disconnect signals if hwobj already exists</span>

         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;testQtSignal&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_method</span><span class="p">)</span>

         <span class="c1"># with method getHardwareObject necessary hardware object is initialized</span>
         <span class="c1"># The value of the property should be the name of xml file that</span>
         <span class="c1"># contains the configuration of the hardware object.</span>

         <span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getHardwareObject</span><span class="p">(</span><span class="n">new_value</span><span class="p">)</span>

         <span class="c1"># If hwobj is not initialized then function returns None</span>

         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
             <span class="c1"># If the hwobj is initialized then do necessary methods.</span>
             <span class="c1"># For example next line create qt signal/slot connection:</span>
             <span class="c1"># it binds &quot;testQtSignal&quot; of self.test_hwobj to self.test_method method</span>
             <span class="c1"># it means that when hwovj emits &quot;testQtSignal&quot; signal, self.test_method</span>
             <span class="c1"># will be called</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_hwobj</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;testQtSignal&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">test_method</span><span class="p">)</span>
         <span class="k">else</span><span class="p">:</span>

             <span class="c1"># If hwobj is not initialized then the brick is disabled</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
     <span class="k">elif</span> <span class="n">property_name</span> <span class="o">==</span> <span class="s2">&quot;booleanProperty&quot;</span><span class="p">:</span>

         <span class="c1"># Do something with a boolean value</span>
         <span class="k">pass</span>
     <span class="k">elif</span> <span class="n">property_name</span> <span class="o">==</span> <span class="s2">&quot;stringProperty&quot;</span><span class="p">:</span>

         <span class="c1"># Do something with a string value</span>
         <span class="k">pass</span>
     <span class="k">elif</span> <span class="n">property_name</span> <span class="o">==</span> <span class="s2">&quot;integerPropery&quot;</span><span class="p">:</span>

         <span class="c1"># Do something with an integer value</span>
         <span class="k">pass</span>
     <span class="k">elif</span> <span class="n">property_name</span> <span class="o">==</span> <span class="s2">&quot;comboProperty&quot;</span><span class="p">:</span>

         <span class="c1"># combo style property is in a string type</span>
         <span class="k">pass</span>
     <span class="k">else</span><span class="p">:</span>
         <span class="n">BlissWidget</span><span class="o">.</span><span class="n">propertyChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="n">old_value</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Use <code class="docutils literal"><span class="pre">Signals</span></code> and <code class="docutils literal"><span class="pre">Slots</span></code> to define interface between bricks. The only way how two separate bricks can communicate is via this signal and slot mechanism. Example code:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># in the code use method &quot;emit&quot; to emit neccessary signal</span>
<span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;testBrickSignal&quot;</span><span class="p">),</span> <span class="n">value_to_send</span><span class="p">)</span>

<span class="c1"># define method with slot name to receive emited value</span>
<span class="bp">self</span><span class="o">.</span><span class="n">test_brick_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">received_value</span><span class="p">):</span>
     <span class="k">pass</span>
</pre></div>
</div>
<p>In the GUI builder define signal/slot connection:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/qt_signals_slots.png"><img alt="qt_signals_slots" src="_images/qt_signals_slots.png" style="width: 619.8px; height: 341.4px;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The number of variables emited via signal should much the number of variables received by a slot.</p>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Graphical</span> <span class="pre">elements</span></code> section is used to define all graphical elements.</li>
<li><code class="docutils literal"><span class="pre">Layout</span></code> defines brick layout. All Qt widgets are grouped within the brick based on <code class="docutils literal"><span class="pre">QHBoxLayout</span></code>, <code class="docutils literal"><span class="pre">QVBoxLayout</span></code> and <code class="docutils literal"><span class="pre">QGridLayout</span></code>. Use <code class="docutils literal"><span class="pre">addWidget</span></code> to add widget to the layout, <code class="docutils literal"><span class="pre">setSpacing</span></code> to set spacing between tge wt widget, <code class="docutils literal"><span class="pre">setContentsMargins</span></code> to set the contents margins.</li>
<li><code class="docutils literal"><span class="pre">SizePolicies</span></code> define size policy (fixed size, expanding etc) of a widget.</li>
<li><code class="docutils literal"><span class="pre">Qt</span> <span class="pre">signal/slot</span> <span class="pre">connections</span></code> define signals/slots used within a brick. Here basic interations between basic Qt widgets are defined. Example:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">test_ledit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_ledit_text_changed</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">test_button</span><span class="o">.</span><span class="n">pressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_button_pressed</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">test_combo</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test_combo_activated</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_ledit_text_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_value</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test_button_pressed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">test_combo_activated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selected_index</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Other</span></code>. It is recommended to add all other code here. It is recommended to just define (not write additional code) GUI element in <code class="docutils literal"><span class="pre">Graphical</span> <span class="pre">elements</span></code> and then all necessary code define in <code class="docutils literal"><span class="pre">Other</span></code> section.</li>
</ul>
</div>
<div class="section" id="brick-based-on-widgets">
<h2>Brick based on widgets<a class="headerlink" href="#brick-based-on-widgets" title="Permalink to this headline">¶</a></h2>
<p>It is recommended to use widgets to compose a brick. A widget in the MXCuBE context is a basic graphical element that has a defined function. Widgets are not bricks and can not be used as a stand alone brick via GUI designer. All widget are located in <a class="reference external" href="https://github.com/mxcube/mxcube/tree/master/Bricks/widgets">widgets directory</a>.</p>
<p>In this example <code class="docutils literal"><span class="pre">Qt4_dc_tree_widget.py</span></code> is used in  <code class="docutils literal"><span class="pre">Qt4_TreeBrick</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
<span class="kn">from</span> <span class="nn">widgets.Qt4_dc_tree_widget</span> <span class="kn">import</span> <span class="n">DataCollectTree</span>
<span class="c1"># ...</span>

<span class="bp">self</span><span class="o">.</span><span class="n">dc_tree_widget</span> <span class="o">=</span> <span class="n">DataCollectTree</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="c1"># ...</span>
<span class="n">main_layout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="c1"># ...</span>
<span class="n">main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dc_tree_widget</span><span class="p">)</span>
<span class="n">main_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">main_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="bricks-and-widgets-build-by-qt-designer">
<h2>Bricks and widgets build by Qt designer<a class="headerlink" href="#bricks-and-widgets-build-by-qt-designer" title="Permalink to this headline">¶</a></h2>
<p>Qt designer is a powefull tool that allows to create layout for widgets and bricks. When many graphical elements are used then the layout management becomes difficult and it is easy to get lost. With Qt designer a layout is designed and stored in ui file (see <a class="reference external" href="https://github.com/mxcube/mxcube/tree/master/Bricks/widgets/ui_files">ui files directory</a>). This ui file is initialized and used via widget or Brick.</p>
<ol class="arabic simple">
<li>Use Qt designer to create layout and save ui file:</li>
</ol>
<div class="figure">
<a class="reference internal image-reference" href="_images/qt_designer.png"><img alt="qt_designer" src="_images/qt_designer.png" style="width: 743.4px; height: 489.59999999999997px;" /></a>
</div>
<ol class="arabic simple" start="2">
<li>Intiate ui file and use it in the graphics:</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
<span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">uic</span>

<span class="c1"># ...</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sample_changer_widget</span> <span class="o">=</span> <span class="n">uic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>\
     <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span>
     <span class="s2">&quot;widgets/ui_files/Qt4_sample_changer_widget_layout.ui&quot;</span><span class="p">))</span>

<span class="c1"># ...</span>
<span class="c1"># Access ui widget by its name</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sample_changer_widget</span><span class="o">.</span><span class="n">details_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>\
     <span class="bp">self</span><span class="o">.</span><span class="n">toggle_sample_changer_tab</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sample_changer_widget</span><span class="o">.</span><span class="n">filter_cbox</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>\
     <span class="bp">self</span><span class="o">.</span><span class="n">mount_mode_combo_changed</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sample_changer_widget</span><span class="o">.</span><span class="n">centring_cbox</span><span class="o">.</span><span class="n">activated</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>\
     <span class="bp">self</span><span class="o">.</span><span class="n">dc_tree_widget</span><span class="o">.</span><span class="n">set_centring_method</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sample_changer_widget</span><span class="o">.</span><span class="n">synch_ispyb_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>\
     <span class="bp">self</span><span class="o">.</span><span class="n">refresh_sample_list</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case ui file is used in the brick. If it was used in the widget then remove <code class="docutils literal"><span class="pre">widget</span></code> from the ui file path.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/index.html">http://doc.qt.io/qt-4.8/index.html</a></li>
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/demos.html">http://doc.qt.io/qt-4.8/demos.html</a></li>
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/tutorials.html">http://doc.qt.io/qt-4.8/tutorials.html</a></li>
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/gettingstarted-develop.html">http://doc.qt.io/qt-4.8/gettingstarted-develop.html</a></li>
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/classes.html">http://doc.qt.io/qt-4.8/classes.html</a></li>
<li><a class="reference external" href="http://doc.qt.io/qt-4.8/qt.html">http://doc.qt.io/qt-4.8/qt.html</a></li>
</ul>
</div>
</div>
<div class="section" id="other-information">
<h2>Other information<a class="headerlink" href="#other-information" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="how_to_create_hwobj.html"><em>How to create hardware object</em></a></li>
<li><a class="reference internal" href="how_to_define_qt_gui.html"><em>How to define GUI in Qt version</em></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to create GUI brick in Qt version</a><ul>
<li><a class="reference internal" href="#pogramming-guidlines">Pogramming guidlines</a></li>
<li><a class="reference internal" href="#brick-based-on-widgets">Brick based on widgets</a></li>
<li><a class="reference internal" href="#bricks-and-widgets-build-by-qt-designer">Bricks and widgets build by Qt designer</a></li>
<li><a class="reference internal" href="#other-information">Other information</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/how_to_create_qt_brick.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MxCuBE 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2013, MxCuBE Collaboration.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>